:root{
  --bg1:#070A12;
  --bg2:#0B1024;
  --text:#F4F7FF;
  --muted:rgba(244,247,255,.72);
  --stroke:rgba(255,255,255,.14);
  --shadow: 0 20px 80px rgba(0,0,0,.55);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 30% 20%, rgba(255,0,120,.22), transparent 55%),
    radial-gradient(1000px 700px at 70% 80%, rgba(0,190,255,.16), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  overflow:hidden;
}

/* arkaplan efekt katmanları */
#bg, #fx{
  position:fixed;
  inset:0;
  pointer-events:none;
}
#bg{ filter: drop-shadow(0 8px 18px rgba(0,0,0,.35)); }

.wrap{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

/* saydam panel */
.glass{
  width:min(760px, 94vw);
  padding: 26px 22px 22px;
  border-radius: 28px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
  position:relative;
  overflow:hidden;
}

.glass::before{
  content:"";
  position:absolute;
  inset:-35%;
  background:
    radial-gradient(900px 500px at 20% 20%, rgba(255,255,255,.14), transparent 60%),
    radial-gradient(700px 420px at 85% 80%, rgba(255,255,255,.10), transparent 62%);
  opacity:.9;
  pointer-events:none;
}

.percentOnly{
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight: 900;
  letter-spacing: -0.02em;
  text-shadow: 0 12px 34px rgba(0,0,0,.65);
  margin-bottom: 16px;
  z-index:1;
}
.percentOnly #percent{
  font-size: clamp(64px, 8vw, 104px);
  line-height: 1;
}
.percentOnly .sym{
  font-size: clamp(28px, 4vw, 44px);
  margin-left: 6px;
  opacity:.95;
}

/* bar */
.meter{
  position:relative;
  height: 76px;
  border-radius: 999px;
  z-index:1;
}

.track{
  position:absolute;
  inset:0;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.16);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
  overflow:hidden;
}

/* dolu kısım: jrh.jpg burada görünecek */
.fill{
  position:absolute;
  left:0; top:0; bottom:0;
  width:72%;
  border-radius: 999px;
  background-image: url("./jrh.jpg");
  background-size: cover;
  background-position: center;
  filter: saturate(1.06) contrast(1.06);
  transition: width 420ms cubic-bezier(.2,.9,.2,1);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
}

/* resim yoksa en azından boş kalmasın diye fallback görünüm */
.fill.noimg{
  background-image: none;
  background: linear-gradient(90deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
}

/* doluluk sınırında parıltı */
.fill::after{
  content:"";
  position:absolute;
  right:-40px; top:-30px;
  width:120px; height:140px;
  background: radial-gradient(circle at 40% 60%, rgba(255,255,255,.30), rgba(255,255,255,0) 70%);
  transform: rotate(12deg);
  opacity:.55;
}

/* ok + avatar (barın ucunda) */
.head{
  position:absolute;
  top:50%;
  left:72%;
  transform: translate(-50%,-50%);
  display:flex;
  align-items:center;
  gap:10px;
  transition: left 420ms cubic-bezier(.2,.9,.2,1);
  filter: drop-shadow(0 16px 24px rgba(0,0,0,.45));
}

.arrow{
  width: 22px;
  height: 22px;
  transform: rotate(45deg);
  border-radius: 6px;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.26);
  backdrop-filter: blur(6px);
  box-shadow: 0 0 0 1px rgba(0,0,0,.12) inset;
}

.avatar{
  width: 54px;
  height: 54px;
  border-radius: 999px;
  background-image: url("./jrh.jpg");
  background-size: cover;
  background-position: center;
  border:1px solid rgba(255,255,255,.35);
  box-shadow:
    0 0 0 6px rgba(255,255,255,.10),
    0 18px 40px rgba(0,0,0,.45);
}

.avatar.noimg{
  background-image:none;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), rgba(255,255,255,.06));
}

/* mod glow */
.glow{
  position:absolute;
  inset:-40px;
  pointer-events:none;
  opacity: 1;
}
body[data-mode="hearts"] .glow{
  background: radial-gradient(420px 180px at 50% 60%, rgba(255,0,130,.18), transparent 70%);
}
body[data-mode="fire"] .glow{
  background: radial-gradient(420px 180px at 50% 60%, rgba(255,150,0,.16), transparent 70%);
}

.tiny{
  position:relative;
  margin-top: 12px;
  text-align:center;
  font-size: 13px;
  color: var(--muted);
  z-index:1;
}

/* gizli slider */
#slider{
  position:fixed;
  left:-9999px; top:-9999px;
}

/* bg parçacıkları */
.p{
  position:absolute;
  left: calc(var(--x) * 1%);
  top: calc(var(--y) * 1%);
  font-size: var(--s);
  opacity: 0;
  transform: translate(-50%,-50%) scale(.9) rotate(var(--r));
  animation: float 3.6s ease-in-out infinite;
  animation-delay: var(--d);
  user-select:none;
}
@keyframes float{
  0%   { opacity: 0; transform: translate(-50%,-50%) translateY(18px) scale(.85) rotate(var(--r)); }
  18%  { opacity: .95; }
  55%  { opacity: .85; }
  100% { opacity: 0; transform: translate(-50%,-50%) translateY(-28px) scale(1.08) rotate(calc(var(--r) + 12deg)); }
}

/* easter egg burst */
.burst{
  position:absolute;
  left: calc(var(--bx) * 1%);
  top: calc(var(--by) * 1%);
  font-size: var(--bs);
  transform: translate(-50%,-50%) scale(.9);
  opacity: 0;
  animation: burst 900ms ease-out forwards;
  user-select:none;
}
@keyframes burst{
  0%   { opacity: 0; transform: translate(-50%,-50%) scale(.7); }
  10%  { opacity: 1; }
  100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.1); }
}

@media (max-width:520px){
  .meter{ height: 68px; }
  .avatar{ width: 50px; height: 50px; }
}
